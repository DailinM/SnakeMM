<html>
    <head>
        <meta charset="utf-8">
        <title>Snack</title>
        <link rel="stylesheet" type="text/css" href="css\Style.css">
    </head>
    <body>
        <div id ="contenedor">
            <canvas  id="CanvaSN1" width="400" height="400">
            </canvas>        
        </div>

        <script>
            var c = document.getElementById("CanvaSN1");
            var ctx = c.getContext("2d");
            var movimientoX = 0;
            var movimientoY = 0; 
            var posX = 0;
            var posY = 0;
            var frutaX = 19;
            var frutaY = 19;
            var snakeX = new Array ();
            var snakeY = new Array ();
            var snakeLong = 0;            

            document.addEventListener('keydown', (event) => {
                
                switch (event.keyCode) {
                    case 37:
                        movimientoX = -1;
                        movimientoY = 0;
                    break;
                    case 38:
                        movimientoX = 0;
                        movimientoY = -1;
                    break;
                    case 39:
                        movimientoX = 1;
                        movimientoY = 0;
                    break;
                    case 40:
                        movimientoX = 0;
                        movimientoY = 1;
                    break;
                
                }
                
            });

            var DIMENSION = 20;         
            
            function pintarFruta(x, y) {
                ctx.fillStyle = "#FF0000";
                ctx.fillRect(x * DIMENSION,y * DIMENSION,DIMENSION,DIMENSION);                
            }
            
            function pintarSnake(x,y) {
                ctx.fillStyle = "#000000";
                ctx.fillRect(x * DIMENSION,y * DIMENSION,DIMENSION,DIMENSION);             
            }

            function vaciarPantalla(){
                ctx.fillStyle = "#e8f8f5";
                ctx.fillRect(0,0,c.width,c.height);
            }
            frutaX = Math.floor(Math.random() * 20);
            frutaY = Math.floor(Math.random() * 20);
            snakeX.unshift(posX);
            snakeY.unshift(posY);
            snakeLong = 1;  

            function jugar() {
                vaciarPantalla(); 
                posX = snakeX[0] + movimientoX;
                posY = snakeY[0] + movimientoY;

                if (posX < 0) {
                    posX = DIMENSION -1;
                }
                if (posY < 0) {
                    posY = DIMENSION -1;
                }
                if (posX > DIMENSION -1) {
                    posX = 0;
                }
                if (posY > DIMENSION -1)  {
                    posY = 0;
                }
                
                if (posX == frutaX && posY == frutaY) {
                    snakeLong = snakeLong + 1;

                    frutaX = Math.floor(Math.random() * 20);
                    frutaY = Math.floor(Math.random() * 20);
                    
                } else {
                    snakeX.pop();
                    snakeY.pop();
                }


                snakeX.unshift(posX);
                snakeY.unshift(posY);

                for (let i = 0; i < snakeLong; i++) {
                    pintarSnake(snakeX[i], snakeY[i]);                    
                }
                                 
                pintarFruta(frutaX,frutaY);      
                         
            }
            setInterval(jugar, 100);           

        </script>
    </body>
</html>